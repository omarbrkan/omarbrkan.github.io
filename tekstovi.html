---
layout: base
title: Svi tekstovi
---

<h2 class="section-title">Svi tekstovi</h2>

<!-- Improved Category Filter -->
<div class="category-filter-wrapper">
    <div class="category-filter">
        <button class="filter-btn active" data-category="all">
            <span class="filter-icon">✦</span>
            <span>Sve</span>
        </button>
        {% assign all_categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
        {% for category in all_categories %}
            {% if category != "" %}
            <button class="filter-btn" data-category="{{ category | downcase | strip }}">
                <span class="filter-icon">◆</span>
                <span>{{ category | upcase }}</span>
            </button>
            {% endif %}
        {% endfor %}
    </div>
</div>

<ul class="text-list" id="posts-list">
    {% for post in site.posts %}
    <li class="text-list-item" data-categories="{{ post.categories | join: ',' | downcase }}">
        {% if post.categories.size > 0 %}
        <span class="text-card-category">{{ post.categories | join: ' / ' | upcase }}</span>
        {% endif %}
        
        <a href="{{ post.url | relative_url }}" class="text-list-title">{{ post.title }}</a>
        
        
        <p class="text-list-excerpt">
            {{ post.excerpt | strip_html | truncatewords: 30 }}
        </p>

        <div class="text-card-footer">
            <span class="text-list-meta">{{ post.date | date: "%d.%m.%Y." }}</span>
            <a href="{{ post.url | relative_url }}" class="read-more-link">... →</a>
        </div>
    </li>
    {% endfor %}
</ul>

<script>
    const filterButtons = document.querySelectorAll('.filter-btn');
    const postItems = document.querySelectorAll('.text-list-item');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', () => {
            filterButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            const selectedCategory = button.getAttribute('data-category');
            
            postItems.forEach(item => {
                const itemCategories = item.getAttribute('data-categories');
                
                if (selectedCategory === 'all' || itemCategories.includes(selectedCategory)) {
                    item.style.display = 'block';
                    setTimeout(() => {
                        item.style.opacity = '1';
                        item.style.transform = 'translateY(0)';
                    }, 10);
                } else {
                    item.style.opacity = '0';
                    item.style.transform = 'translateY(-10px)';
                    setTimeout(() => {
                        item.style.display = 'none';
                    }, 300);
                }
            });
        });
    });
</script>
